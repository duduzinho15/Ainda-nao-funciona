#!/usr/bin/env python3
"""
Script para usar porta alta (15000) - menos restritiva no Windows
"""

import sys
from pathlib import Path

# Adiciona o diretÃ³rio raiz ao path
project_root = Path(__file__).parent.parent
sys.path.insert(0, str(project_root))


def main():
    """FunÃ§Ã£o principal"""
    print("ğŸš€ INICIANDO DASHBOARD NA PORTA 15000")
    print("=" * 50)
    print("ğŸ’¡ Porta alta pode ser menos restritiva no Windows")
    print()

    try:
        from app import app

        print("âœ… App importado com sucesso")
        print("ğŸŒ Iniciando servidor na porta 15000...")
        print("ğŸ’¡ Acesse: http://127.0.0.1:15000")
        print("âš ï¸  IMPORTANTE: Mantenha esta janela aberta!")
        print()

        # ConfiguraÃ§Ãµes especÃ­ficas para Windows
        app.config["ENV"] = "production"
        app.config["DEBUG"] = False
        app.config["TESTING"] = False

        app.run(
            host="127.0.0.1", port=15000, debug=False, use_reloader=False, threaded=True
        )

    except Exception as e:
        print(f"âŒ Erro: {e}")
        print("\nğŸ’¡ SOLUÃ‡Ã•ES:")
        print("   1. Execute como administrador")
        print("   2. Desative Windows Defender temporariamente")
        print("   3. Configure exceÃ§Ãµes no firewall")


if __name__ == "__main__":
    main()
