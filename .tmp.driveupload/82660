#!/usr/bin/env python3
"""
Script simples para iniciar o Dashboard Garimpeiro Geek
Executa diretamente sem problemas de caminho
"""

import sys
from pathlib import Path


def main():
    """FunÃ§Ã£o principal"""
    print("ğŸš€ INICIANDO DASHBOARD GARIMPEIRO GEEK")
    print("=" * 50)

    try:
        # Adiciona o diretÃ³rio raiz ao path
        project_root = Path(__file__).parent.parent
        sys.path.insert(0, str(project_root))

        print(f"ğŸ“ DiretÃ³rio do projeto: {project_root}")

        # Importa o app
        from app import app

        print("âœ… App importado com sucesso")
        print("ğŸŒ Iniciando servidor na porta 8080...")
        print("ğŸ’¡ Acesse: http://127.0.0.1:8080")
        print("âš ï¸  IMPORTANTE: Mantenha esta janela aberta!")
        print()

        # ConfiguraÃ§Ãµes especÃ­ficas para Windows
        app.config["ENV"] = "production"
        app.config["DEBUG"] = False
        app.config["TESTING"] = False

        # Inicia o servidor
        app.run(
            host="127.0.0.1", port=8080, debug=False, use_reloader=False, threaded=True
        )

    except ImportError as e:
        print(f"âŒ Erro de importaÃ§Ã£o: {e}")
        print("\nğŸ’¡ SOLUÃ‡Ã•ES:")
        print("   1. Execute como administrador")
        print("   2. Verifique se o ambiente virtual estÃ¡ ativado")
        print("   3. Execute: pip install -r requirements.txt")

    except Exception as e:
        print(f"âŒ Erro geral: {e}")
        print("\nğŸ’¡ SOLUÃ‡Ã•ES:")
        print("   1. Execute como administrador")
        print("   2. Desative Windows Defender temporariamente")
        print("   3. Configure exceÃ§Ãµes no firewall")


if __name__ == "__main__":
    main()
